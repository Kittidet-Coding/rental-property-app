# Railway.app Deployment Guide

This guide will help you deploy the Rental Property Listing App on Railway.app.

## Prerequisites

- GitHub account with the repository pushed (âœ… Done)
- Railway.app account (free tier)
- Environment variables/API keys (see below)

## Step 1: Create Railway Project

1. Go to https://railway.app
2. Sign in with GitHub
3. Click "New Project"
4. Select "Deploy from GitHub repo"
5. Find and select `rental-property-app`
6. Click "Deploy"

Railway will automatically detect it's a Node.js project and start building.

## Step 2: Add MySQL Database

Railway needs a database for your application.

1. In your Railway project dashboard, click "Add Service"
2. Select "MySQL"
3. Railway will create a MySQL database automatically
4. The `DATABASE_URL` will be automatically set

## Step 3: Configure Environment Variables

Once the project is created, you need to add these environment variables in Railway:

### Required Variables:

| Variable | Description | Example |
|----------|-------------|---------|
| `DATABASE_URL` | MySQL connection string | Auto-generated by Railway |
| `VITE_APP_ID` | Manus OAuth App ID | Get from Manus dashboard |
| `OAUTH_SERVER_URL` | Manus OAuth server | `https://api.manus.im` |
| `VITE_OAUTH_PORTAL_URL` | Manus login portal | `https://oauth.manus.im` |
| `JWT_SECRET` | Session signing secret | Generate a random string |
| `OWNER_NAME` | Your name | Your name |
| `OWNER_OPEN_ID` | Your Manus Open ID | Get from Manus account |
| `BUILT_IN_FORGE_API_URL` | Manus Forge API URL | `https://forge.manus.ai` |
| `BUILT_IN_FORGE_API_KEY` | Manus Forge API key | Get from Manus |
| `VITE_FRONTEND_FORGE_API_URL` | Frontend Forge API URL | `https://forge.manus.ai` |
| `VITE_FRONTEND_FORGE_API_KEY` | Frontend Forge API key | Get from Manus |
| `VITE_APP_TITLE` | App title | `Rental Property Listing App` |
| `VITE_APP_LOGO` | Logo path | `/logo.svg` |
| `GOOGLE_MAPS_API_KEY` | Google Maps API key | Get from Google Cloud Console |
| `NODE_ENV` | Environment | `production` |

### How to Add Variables in Railway:

1. In your Railway project, go to "Variables" tab
2. Click "Add Variable"
3. Enter the variable name and value
4. Click "Add"
5. Repeat for all variables

## Step 4: Deploy

1. Once all variables are set, Railway will automatically deploy
2. Go to "Deployments" tab to see the build progress
3. Once deployment is complete, you'll get a public URL

## Step 5: Test Your Deployment

1. Click the public URL from Railway
2. Your app should load successfully
3. Test the search functionality
4. Test the map view
5. Test property detail pages

## Getting Required API Keys

### Manus OAuth Credentials:
- Contact Manus support or check your Manus dashboard
- You should have: VITE_APP_ID, OAUTH_SERVER_URL, JWT_SECRET, etc.

### Google Maps API Key:
1. Go to https://console.cloud.google.com
2. Create a new project
3. Enable "Maps JavaScript API"
4. Create an API key
5. Restrict it to your domain(s)

### JWT Secret:
Generate a random string. You can use:
```bash
openssl rand -base64 32
```

## Troubleshooting

### Build Fails:
- Check Railway logs for errors
- Ensure all required packages are in package.json
- Verify Node.js version compatibility

### App Won't Start:
- Check environment variables are set correctly
- Verify DATABASE_URL is correct
- Check server logs in Railway

### Database Connection Error:
- Ensure MySQL service is running in Railway
- Verify DATABASE_URL format
- Check database credentials

## Monitoring

In Railway dashboard, you can:
- View real-time logs
- Monitor CPU/Memory usage
- Check deployment history
- View environment variables
- Manage domains

## Next Steps

After successful deployment:
1. Set up a custom domain (optional)
2. Enable auto-deployments from GitHub
3. Set up monitoring alerts
4. Configure backups for database

## Support

For Railway support: https://railway.app/support
For app-specific issues: Check the logs in Railway dashboard
